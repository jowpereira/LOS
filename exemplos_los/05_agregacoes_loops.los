# üîÑ Agrega√ß√µes e Loops Avan√ßados

# Agrega√ß√£o simples
soma de x[produto] PARA CADA produto EM produtos

# Agrega√ß√£o com filtro simples
soma de vendas[produto] PARA CADA produto EM produtos ONDE produtos.Ativo == 1

# Agrega√ß√£o com m√∫ltiplas condi√ß√µes no filtro
soma de producao[fabrica] PARA CADA fabrica EM fabricas ONDE fabricas.Regiao == 'Sul' 

# Agrega√ß√£o com vari√°veis multidimensionais (comentada - loops aninhados n√£o suportados)
# soma de transporte[origem,destino] PARA CADA origem EM origens PARA CADA destino EM destinos

# Agrega√ß√£o com express√£o complexa
soma de produtos.Custo_Unitario * quantidade[produto] * (1 + produtos.Taxa_Imposto) PARA CADA produto EM produtos

# Agrega√ß√£o aninhada (conceitual)
soma de (vendas[produto] - custo[produto]) PARA CADA produto EM produtos ONDE produtos.Margem > 0.1

# M√∫ltiplas agrega√ß√µes em uma express√£o (comentada - n√£o suportado diretamente)
# soma de receitas[produto] PARA CADA produto EM produtos - soma de custos[produto] PARA CADA produto EM produtos

# Agrega√ß√£o com refer√™ncia a m√∫ltiplos datasets
soma de vendas[cliente] * clientes.Fator_Desconto PARA CADA cliente EM clientes ONDE clientes.Regiao == regioes.Nome

# Agrega√ß√£o com c√°lculo percentual (comentada - problema com m√∫ltiplas agrega√ß√µes)
# soma de vendas[produto] / soma de vendas[p] PARA CADA p EM produtos PARA CADA produto EM produtos ONDE produtos.Categoria == 'A'

# Agrega√ß√£o com condicionais internas (comentada - SE dentro de agrega√ß√£o n√£o suportado)
# soma de (SE produtos.Promocao == 1 ENTAO vendas[produto] * 0.8 SENAO vendas[produto]) PARA CADA produto EM produtos
